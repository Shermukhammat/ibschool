<!DOCTYPE html>
<html lang="uz">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{lesson.modul.name}} {{lesson.name}}</title>
    <style>
      /* Base Layout */
      .content-block {
        max-width: 1200px;
        margin: 0 auto;
        padding: 6rem 1rem 4rem;
        width: 92%;
      }

      /* Back Button */
      .back-button-container {
        padding: 1rem 0;
        max-width: 1200px;
        margin: 0 auto;
        width: 92%;
      }

      .back-button {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1rem;
        background-color: #f5f5f5;
        color: #333;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s;
        text-decoration: none;
        margin-top: 2rem;
      }

      .back-button:hover {
        background-color: #e8e8e8;
        transform: translateY(-2px);
      }

      .back-button:active {
        transform: translateY(0);
      }

      .back-button svg {
        width: 16px;
        height: 16px;
      }

      /* Lesson Container */
      .lesson-container {
        background-color: #fff;
        border-radius: 10px;
        border: 1px solid #e9e9e9;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        width: 100%;
        margin-bottom: 2rem;
      }

      .lesson-header {
        padding: 1.5rem;
        border-bottom: 1px solid #e9e9e9;
      }

      .lesson-title {
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .lesson-meta {
        display: flex;
        align-items: center;
        gap: 1rem;
        color: #666;
        font-size: 0.9rem;
      }

      .lesson-content {
        padding: 1.5rem;
      }

      /* Video Section */
      .video-container {
        position: relative;
        width: 100%;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 2rem;
      }

      .video-responsive {
        position: relative;
        overflow: hidden;
        padding-top: 56.25%; /* 16:9 Aspect Ratio */
      }

      .video-responsive iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
      }

      /* Text Content */
      .text-content {
        line-height: 1.7;
        margin-bottom: 2rem;
      }

      .text-content h2 {
        font-size: 1.5rem;
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        font-weight: 600;
      }

      .text-content h3 {
        font-size: 1.25rem;
        margin-top: 1.25rem;
        margin-bottom: 0.75rem;
        font-weight: 600;
      }

      .text-content p {
        margin-bottom: 1rem;
      }

      .text-content ul,
      .text-content ol {
        margin-bottom: 1rem;
        padding-left: 1.5rem;
      }

      .text-content li {
        margin-bottom: 0.5rem;
      }

      .text-content img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        margin: 1rem 0;
      }

      .text-content pre {
        background-color: #f6f8fa;
        padding: 1rem;
        border-radius: 6px;
        overflow-x: auto;
        margin-bottom: 1rem;
      }

      .text-content code {
        font-family: monospace;
        background-color: #f6f8fa;
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
      }

      /* Test Section */
      .test-container {
        margin-top: 2rem;
        padding: 1.5rem;
        background-color: #f9fafb;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
      }

      .test-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .question {
        margin-bottom: 1.5rem;
      }

      .question-text {
        font-weight: 500;
        margin-bottom: 0.75rem;
      }

      .options {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .option {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .option:hover {
        background-color: #f3f4f6;
      }

      .option.selected {
        background-color: #f0f9ff;
        border-color: #93c5fd;
      }

      .option input {
        margin-right: 0.5rem;
      }

      .submit-test {
        display: block;
        width: 100%;
        max-width: 200px;
        background: rgb(0, 0, 0);
        color: white;
        padding: 0.75rem 1rem;
        border-radius: 6px;
        text-align: center;
        font-weight: 600;
        margin-top: 1rem;
        transition: background-color 0.3s ease;
        border: none;
        cursor: pointer;
      }

      .submit-test:hover {
        background-color: rgb(29, 29, 29);
      }

      /* Navigation Buttons */
      .lesson-navigation {
        display: flex;
        justify-content: space-between;
        margin-top: 2rem;
      }

      .prev-lesson,
      .next-lesson {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1rem;
        background-color: #f5f5f5;
        color: #333;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s;
        text-decoration: none;
      }

      .prev-lesson:hover,
      .next-lesson:hover {
        background-color: #e8e8e8;
        transform: translateY(-2px);
      }

      .prev-lesson:active,
      .next-lesson:active {
        transform: translateY(0);
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .content-block {
          padding: 4rem 1rem 3rem;
        }

        .lesson-header {
          padding: 1rem;
        }

        .lesson-title {
          font-size: 1.5rem;
        }

        .lesson-content {
          padding: 1rem;
        }
      }

      @media (max-width: 480px) {
        .back-button {
          padding: 0.4rem 0.6rem;
          font-size: 0.9rem;
        }

        .back-button svg {
          width: 14px;
          height: 14px;
        }

        .lesson-title {
          font-size: 1.25rem;
        }

        .lesson-navigation {
          flex-direction: column;
          gap: 0.75rem;
        }

        .prev-lesson,
        .next-lesson {
          width: 100%;
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="back-button-container">
      <a href="{{lesson.course_url}}" class="back-button">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M19 12H5"></path>
          <path d="M12 19l-7-7 7-7"></path>
        </svg>
        Orqaga
      </a>
    </div>

    <div class="content-block">
      <!-- Lesson Container -->
      <div class="lesson-container">
        <!-- Lesson Header -->
        <div class="lesson-header">
          <h1 class="lesson-title">
            {{lesson.modul.name}}: {{lesson.name}}
          </h1>
          {% comment %} <div class="lesson-meta">
            <span>2-qism</span>
            <span>â€¢</span>
            <span>15 daqiqa</span>
          </div> {% endcomment %}
        </div>

        <!-- Lesson Content -->
        <div class="lesson-content">
          <!-- Video Section (if available) -->
          <div class="video-container">
            <div class="video-responsive">
              <iframe
                src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                title="Lesson Video"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
              >
              </iframe>
            </div>
          </div>

          <!-- Text Content -->
          <div class="text-content">
            <h2>O'zgaruvchilar nima?</h2>
            <p>
              O'zgaruvchilar - dasturlash tillarida ma'lumotlarni saqlash uchun
              ishlatiladigan konteynerlardir. Python o'zgaruvchilarini e'lon
              qilish uchun quyidagi sintaksisdan foydalaniladi:
            </p>

            <pre><code>x = 5
y = "Salom, dunyo!"</code></pre>

            <p>
              Pythonda o'zgaruvchilar turini ko'rsatish shart emas.
              O'zgaruvchiga qiymat berilgandan so'ng, Python avtomatik ravishda
              o'zgaruvchi turini aniqlaydi.
            </p>

            <h3>O'zgaruvchilar turlari</h3>
            <p>Pythonda asosiy o'zgaruvchilar turlari:</p>
            <ul>
              <li><strong>int</strong> - butun sonlar (5, 10, -20)</li>
              <li>
                <strong>float</strong> - o'nlik sonlar (5.5, 3.14, -0.001)
              </li>
              <li><strong>str</strong> - satrlar ("Salom", 'Python')</li>
              <li><strong>bool</strong> - mantiqiy qiymatlar (True, False)</li>
              <li><strong>list</strong> - ro'yxatlar ([1, 2, 3])</li>
              <li><strong>tuple</strong> - kortejlar ((1, 2, 3))</li>
              <li>
                <strong>dict</strong> - lug'atlar ({"ism": "Ali", "yosh": 25})
              </li>
            </ul>

            <h2>Misollar</h2>
            <p>Keling, ba'zi misollarni ko'rib chiqaylik:</p>

            <pre><code># Turli xil o'zgaruvchilar
ism = "Aziza"
yosh = 25
bo'y = 1.75
talaba = True

# O'zgaruvchilar bilan amallar
x = 10
y = 5
natija = x + y  # natija = 15

# String bilan ishlash
salom = "Salom"
dunyo = "Dunyo"
salom_dunyo = salom + " " + dunyo  # "Salom Dunyo"</code></pre>
          </div>

          <!-- Test Section (if available) -->
          <div class="test-container">
            <h2 class="test-title">Bilimingizni tekshiring</h2>

            <form id="lessonTest">
              <div class="question">
                <p class="question-text">
                  1. Quyidagi kodning natijasi nima bo'ladi?
                </p>
                <pre><code>x = 5
y = 2
print(x * y)</code></pre>
                <div class="options">
                  <label class="option">
                    <input type="radio" name="q1" value="a" /> A) 7
                  </label>
                  <label class="option">
                    <input type="radio" name="q1" value="b" /> B) 10
                  </label>
                  <label class="option">
                    <input type="radio" name="q1" value="c" /> C) 3
                  </label>
                  <label class="option">
                    <input type="radio" name="q1" value="d" /> D) 52
                  </label>
                </div>
              </div>

              <div class="question">
                <p class="question-text">
                  2. Pythonda o'zgaruvchilarni e'lon qilishda qaysi kalit so'z
                  ishlatiladi?
                </p>
                <div class="options">
                  <label class="option">
                    <input type="radio" name="q2" value="a" /> A) var
                  </label>
                  <label class="option">
                    <input type="radio" name="q2" value="b" /> B) let
                  </label>
                  <label class="option">
                    <input type="radio" name="q2" value="c" /> C) const
                  </label>
                  <label class="option">
                    <input type="radio" name="q2" value="d" /> D) Hech qanday
                    kalit so'z kerak emas
                  </label>
                </div>
              </div>

              <div class="question">
                <p class="question-text">3. Quyidagi kod nima qaytaradi?</p>
                <pre><code>a = "Salom"
b = "5"
print(a + b)</code></pre>
                <div class="options">
                  <label class="option">
                    <input type="radio" name="q3" value="a" /> A) Salom5
                  </label>
                  <label class="option">
                    <input type="radio" name="q3" value="b" /> B) 10
                  </label>
                  <label class="option">
                    <input type="radio" name="q3" value="c" /> C) Xatolik
                  </label>
                  <label class="option">
                    <input type="radio" name="q3" value="d" /> D) Salom 5
                  </label>
                </div>
              </div>

              <button type="submit" class="submit-test">Tekshirish</button>
            </form>
          </div>
        </div>
      </div>
      <!-- Lesson Navigation -->
      <div class="lesson-navigation">
        {% if prev %}
        <a href="{{prev.abs_url}}" class="prev-lesson">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M19 12H5"></path>
            <path d="M12 19l-7-7 7-7"></path>
          </svg>
          Oldingi dars
        </a>
        {% endif %} {% if next %}
        <a href="{{next.abs_url}}" class="next-lesson">
          Keyingi dars
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M5 12h14"></path>
            <path d="M12 5l7 7-7 7"></path>
          </svg>
        </a>
        {% endif %}
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Handle test option selection
        const options = document.querySelectorAll(".option");
        options.forEach((option) => {
          option.addEventListener("click", function () {
            // Remove selected class from siblings
            const name = this.querySelector("input").getAttribute("name");
            const siblings = document.querySelectorAll(`input[name="${name}"]`);
            siblings.forEach((sib) => {
              sib.closest(".option").classList.remove("selected");
            });

            // Add selected class to clicked option
            this.classList.add("selected");
          });
        });

        // Handle test submission
        const testForm = document.getElementById("lessonTest");
        if (testForm) {
          testForm.addEventListener("submit", function (e) {
            e.preventDefault();

            // Get correct answers (you would replace this with your actual correct answers)
            const correctAnswers = {
              q1: "b", // B) 10
              q2: "d", // D) Hech qanday kalit so'z kerak emas
              q3: "a", // A) Salom5
            };

            // Get user answers
            const formData = new FormData(testForm);
            let score = 0;
            let totalQuestions = Object.keys(correctAnswers).length;

            // Check answers
            for (let [question, answer] of formData.entries()) {
              if (correctAnswers[question] === answer) {
                score++;
              }
            }

            // Display score (you could replace this with a more sophisticated feedback system)
            alert(
              `Siz ${totalQuestions} savoldan ${score} ta to'g'ri javob berdingiz!`
            );
          });
        }
      });
    </script>
  </body>
</html>
